const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./y8cjFsai.js","./CindA9jZ.js","./DjTJqZtn.js","./entry.DofVldok.css"])))=>i.map(i=>d[i]);
import{_ as j,r as l,k as G,o as Q,O as q,z as d,B as o,P as A,Q as C,R as V,S as $,T as H,V as T,A as u,F as h,G as m}from"./DjTJqZtn.js";/* empty css        */const J={class:"detail-box w-full flex flex-col"},K={class:"p-5 sm:p-6 bg-purple-200 overflow-y-auto",id:"right-btn"},Y={key:0,class:"transcript-container"},Z={class:"text-sm text-gray-500 mb-2"},ee={class:"text-lg leading-relaxed whitespace-normal break-words"},te=["onClick"],ae={class:"mt-3 text-gray-600 text-sm"},ne={__name:"audio",setup(se){const k=l(null),p=l(!1),b=l(0),f=l(1),x=l(1),g=l(!1),_=l(!1),i=l(null),y=l({segIndex:-1,wordIndex:-1}),w=l(0),D=l({}),P=(e,t,s)=>{const a=e.start!==null&&e.end!==null&&w.value>=e.start&&w.value<=e.end;return y.value.segIndex===t&&y.value.wordIndex===s||a},W=e=>{if(!e||!e.words||e.words.length===0)return"Unknown";const t={};let s=0,a="Unknown";return e.words.forEach(n=>{n.speaker&&(t[n.speaker]=(t[n.speaker]||0)+1,t[n.speaker]>s&&(s=t[n.speaker],a=n.speaker))}),a},F=()=>{if(!i.value)return;let e=!1,t=null;for(let s=0;s<i.value.segments.length;s++){const a=i.value.segments[s];for(let n=0;n<a.words.length;n++){const r=a.words[n];if(r.start!==null&&r.end!==null&&w.value>=r.start&&w.value<=r.end&&!e){e=!0,t=D.value[`${s}-${n}`];break}}if(e)break}t&&t.scrollIntoView({behavior:"smooth",block:"center"})},I=G(()=>g.value?`grid-template-columns: ${f.value}fr 8px ${x.value}fr;`:"grid-template-columns: 1fr; grid-template-rows: 1fr 1fr;"),E=()=>{var e;g.value=((e=k.value)==null?void 0:e.offsetWidth)>=768||window.innerWidth>=768},M=()=>{g.value&&(_.value=!0)},z=()=>{p.value||(_.value=!1)},N=e=>{!_.value||!g.value||(p.value=!0,b.value=e.clientX,window.addEventListener("mousemove",S),window.addEventListener("mouseup",L),document.body.classList.add("no-select"))},S=e=>{var v;if(!p.value)return;const t=e.clientX-b.value,s=((v=k.value)==null?void 0:v.offsetWidth)||800,a=f.value+x.value,n=f.value+t/s*a,r=.5;f.value=Math.max(r,Math.min(n,a-r)),x.value=a-f.value,b.value=e.clientX},L=()=>{p.value=!1,_.value=!1,window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",L),document.body.classList.remove("no-select")},O=(e,t,s)=>{if(console.log(`Word clicked: ${e.word}, Start: ${e.start}, End: ${e.end}`),y.value={segIndex:t,wordIndex:s},c.value&&e.start!==null){const a=!c.value.paused;console.log("wasPlaying",a),c.value.seek(e.start,a?"play":"pause")}},X=e=>{w.value=e},B=async()=>{{const e=(await T(async()=>{const{default:a}=await import("./y8cjFsai.js").then(n=>n.i);return{default:a}},__vite__mapDeps([0,1,2,3]),import.meta.url)).default,t=(await T(async()=>{const{default:a}=await import("./CindA9jZ.js").then(n=>n.av);return{default:a}},__vite__mapDeps([1,2,3]),import.meta.url)).default,s=(await T(async()=>{const{Events:a}=await import("./y8cjFsai.js").then(n=>n.i);return{Events:a}},__vite__mapDeps([0,1,2,3]),import.meta.url)).Events;return{Player:e,TextTrack:t,EVENTS:s}}},R=async()=>{try{const e=await fetch("/test.json");i.value=await e.json(),console.log("Transcript data loaded:",i.value)}catch(e){console.error("Error loading transcript data:",e)}},U=l(null),c=l(null);return Q(async()=>{E(),window.addEventListener("resize",E),await R();const{Player:e,TextTrack:t,EVENTS:s}=await B();console.log("ðŸš€ ~ file: index.vue method:  line: 134 ðŸš€",e,t),U.value=new e({id:"mse",url:"//lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/byted-player-videos/1.0.0/xgplayer-demo.mp4",height:"100%",width:"100%",plugins:[t],controls:{mode:"normal"},volume:{showValueLabel:!0},texttrack:{list:[{id:"vtt1",language:"zh-cn",text:"å­—å¹•1",default:!0,list:[{start:0,end:1e3,list:[{start:0,end:10,text:["è¿™æ˜¯å¤–æŒ‚å­—å¹•1","è¿™æ˜¯å¤–æŒ‚å­—å¹•11","è¿™æ˜¯å¤–æŒ‚å­—å¹•111"]},{start:10,end:20,text:["è¿™æ˜¯å¤–æŒ‚å­—å¹•2"]},{start:20,end:40,text:["è¿™æ˜¯å¤–æŒ‚å­—å¹•3"]},{start:40,end:1e3,text:["è¿™æ˜¯å¤–æŒ‚å­—å¹•4"]}]}]}]}}),c.value=new e({id:"audioID",url:"/test.wav",volume:.8,width:"100%",height:"100%",mediaType:"audio",ignores:["start","cssFullScreen","fullscreen","pip","enter","replay","pc","loading","poster"],controls:{initShow:!0,mode:"normal"},marginControls:!0,videoConfig:{crossOrigin:"anonymous"}}),c.value.on(s.TIME_UPDATE,()=>{y.value={segIndex:-1,wordIndex:-1},X(c.value.currentTime),F()})}),q(()=>{window.removeEventListener("resize",E)}),(e,t)=>(u(),d("div",J,[o("div",{ref_key:"container",ref:k,class:"flex-1 bg-gray-100 draggable-panels grid-container rounded-xl overflow-hidden",style:H(I.value)},[t[4]||(t[4]=o("div",{class:"p-5 sm:p-6 bg-gray-100"},[o("div",{id:"mse"})],-1)),g.value?(u(),d("div",{key:0,class:C(["drag-handle",{dragging:p.value,"drag-disabled":!_.value}]),onMousedown:N,onMouseenter:M,onMouseleave:z},null,34)):A("",!0),o("div",K,[i.value?(u(),d("div",Y,[(u(!0),d(V,null,$(i.value.segments,(s,a)=>(u(),d("div",{key:a,class:"mb-6 bg-white p-4 rounded-lg shadow"},[o("div",Z,[t[0]||(t[0]=o("span",{class:"font-semibold"},"Speaker:",-1)),h(" "+m(W(s))+" | ",1),t[1]||(t[1]=o("span",{class:"font-semibold"},"Segment:",-1)),h(" "+m(a+1)+" | ",1),t[2]||(t[2]=o("span",{class:"font-semibold"},"Start:",-1)),h(" "+m(s.start)+" | ",1),t[3]||(t[3]=o("span",{class:"font-semibold"},"End:",-1)),h(" "+m(s.end),1)]),o("div",ee,[(u(!0),d(V,null,$(s.words,(n,r)=>(u(),d("span",{key:`${a}-${r}`,onClick:v=>O(n,a,r),class:C(["cursor-pointer transition-colors px-0.5 rounded mx-0.5 inline-block",P(n,a,r)?"bg-blue-100 text-white":"hover:bg-blue-100"]),ref_for:!0,ref:v=>{v&&(D.value[`${a}-${r}`]=v)}},m(n.word),11,te))),128))]),o("div",ae,m(s.text),1)]))),128))])):A("",!0)])],4),t[5]||(t[5]=o("div",{class:"audio-container h-20 bg-red-300"},[o("div",{id:"audioID",class:""})],-1))]))}},re=j(ne,[["__scopeId","data-v-cb8db61e"]]);export{re as default};
