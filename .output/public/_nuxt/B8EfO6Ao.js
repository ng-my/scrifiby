const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./O9dB02R4.js","./B_OshFF3.js","./DjTJqZtn.js","./entry.DofVldok.css"])))=>i.map(i=>d[i]);
import{_ as me}from"./DciO7YSL.js";import{_ as ve}from"./C3s5vo0a.js";import{c2 as he,aK as _e,c3 as ye,aN as ge,d as M,c4 as we,bF as be,k as j,r as b,aS as ke,aR as Ee,c5 as xe,bu as Ce,a2 as R,A as f,D as y,C as h,aW as ie,E as e,ag as Le,c6 as Pe,aX as $e,B as d,bb as Se,ay as Y,z as C,P as T,Q as F,H as K,G as $,W as de,aY as Fe,ah as Ae,b2 as Te,b5 as Re,c7 as He,x as Q,ab as H,ac as se,an as le,s as De,o as re,c8 as oe,av as ae,aF as Me,R as Ve,S as Be,bW as Ie,aj as ue,a7 as ze,_ as N,ap as Oe,a0 as je,$ as Ne,F as ee,u as ce,c0 as Ue,c9 as We,ca as qe,y as pe,bY as Je,cb as Ge,V as te,L as Ke,aw as Ye,al as Qe,Z as Xe,af as Ze,O as et,cc as tt,bj as ot}from"./DjTJqZtn.js";const st=_e({...ye,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),at=he,lt=M({name:"ElDrawer",inheritAttrs:!1}),nt=M({...lt,props:st,emits:at,setup(l,{expose:n}){const a=l,u=we();be({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},j(()=>!!u.title));const r=b(),c=b(),t=ke("drawer"),{t:k}=Ee(),{afterEnter:x,afterLeave:o,beforeLeave:i,visible:E,rendered:P,titleId:_,bodyId:L,zIndex:g,onModalClick:A,onOpenAutoFocus:D,onCloseAutoFocus:U,onFocusoutPrevented:W,onCloseRequested:q,handleClose:V}=xe(a,r),J=j(()=>a.direction==="rtl"||a.direction==="ltr"),I=j(()=>Ce(a.size));return n({handleClose:V,afterEnter:x,afterLeave:o}),(p,G)=>(f(),R(e(Te),{to:p.appendTo,disabled:p.appendTo!=="body"?!1:!p.appendToBody},{default:y(()=>[h(ie,{name:e(t).b("fade"),onAfterEnter:e(x),onAfterLeave:e(o),onBeforeLeave:e(i),persisted:""},{default:y(()=>[Le(h(e(Pe),{mask:p.modal,"overlay-class":p.modalClass,"z-index":e(g),onClick:e(A)},{default:y(()=>[h(e($e),{loop:"",trapped:e(E),"focus-trap-el":r.value,"focus-start-el":c.value,onFocusAfterTrapped:e(D),onFocusAfterReleased:e(U),onFocusoutPrevented:e(W),onReleaseRequested:e(q)},{default:y(()=>[d("div",Se({ref_key:"drawerRef",ref:r,"aria-modal":"true","aria-label":p.title||void 0,"aria-labelledby":p.title?void 0:e(_),"aria-describedby":e(L)},p.$attrs,{class:[e(t).b(),p.direction,e(E)&&"open"],style:e(J)?"width: "+e(I):"height: "+e(I),role:"dialog",onClick:Y(()=>{},["stop"])}),[d("span",{ref_key:"focusStartRef",ref:c,class:F(e(t).e("sr-focus")),tabindex:"-1"},null,2),p.withHeader?(f(),C("header",{key:0,class:F([e(t).e("header"),p.headerClass])},[p.$slots.title?K(p.$slots,"title",{key:1},()=>[T(" DEPRECATED SLOT ")]):K(p.$slots,"header",{key:0,close:e(V),titleId:e(_),titleClass:e(t).e("title")},()=>[p.$slots.title?T("v-if",!0):(f(),C("span",{key:0,id:e(_),role:"heading","aria-level":p.headerAriaLevel,class:F(e(t).e("title"))},$(p.title),11,["id","aria-level"]))]),p.showClose?(f(),C("button",{key:2,"aria-label":e(k)("el.drawer.close"),class:F(e(t).e("close-btn")),type:"button",onClick:e(V)},[h(e(de),{class:F(e(t).e("close"))},{default:y(()=>[h(e(Fe))]),_:1},8,["class"])],10,["aria-label","onClick"])):T("v-if",!0)],2)):T("v-if",!0),e(P)?(f(),C("div",{key:1,id:e(L),class:F([e(t).e("body"),p.bodyClass])},[K(p.$slots,"default")],10,["id"])):T("v-if",!0),p.$slots.footer?(f(),C("div",{key:2,class:F([e(t).e("footer"),p.footerClass])},[K(p.$slots,"footer")],2)):T("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[Ae,e(E)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var rt=ge(nt,[["__file","drawer.vue"]]);const it=Re(rt),dt=()=>{let l=0;const n=t=>{t.touches.length>1&&t.preventDefault()},a=t=>{let k=new Date().getTime();k-l<=500&&t.preventDefault(),l=k},u=t=>{t.preventDefault()};return{startTouchListening:()=>{document.addEventListener("touchstart",n,{passive:!1}),document.addEventListener("touchend",a,{passive:!1}),document.addEventListener("gesturestart",u,{passive:!1})},stopTouchListening:()=>{document.removeEventListener("touchstart",n),document.removeEventListener("touchend",a),document.removeEventListener("gesturestart",u)}}},ne=He("tour",()=>{const l=b(null),{startTouchListening:n,stopTouchListening:a}=dt();return{step:l,nextStep:()=>{if(l.value===null){n(),l.value=1;return}if(l.value===3){a(),l.value=null;return}l.value=l.value+1},nextStepWithOperation:()=>{l.value!==null&&(l.value=l.value+.5)}}}),ut=()=>{const l=b([]),n=b(!1);return{showPopover:l,isPopoverShowed:n,handleMouseEnter:t=>{n.value=!1,l.value=[t.id]},handleMouseLeave:async()=>{n.value||(l.value=[])},handleHidePopover:()=>{n.value=!1},handleShowed:()=>{n.value=!0}}},fe=()=>{const l=b(!0),n=()=>{l.value=!l.value},a="0.2s height ease-in-out";return{isExpanded:l,toggleExpanded:n,beforeEnter:o=>{o.style.transition=a,o.style.height="0"},enter:o=>{o.scrollHeight!==0?o.style.height=`${o.scrollHeight}px`:o.style.height="",o.style.overflow="hidden"},leave:o=>{o.scrollHeight!==0&&requestAnimationFrame(()=>{o.style.transition=a,o.style.height="0"})},afterEnter:o=>{o.style.transition="",o.style.height="",o.style.overflow=""},afterLeave:o=>{o.style.transition="",o.style.height="",o.style.overflow=""},beforeLeave:o=>{o.style.height=`${o.scrollHeight}px`,o.style.overflow="hidden"}}},ct={class:""},pt=["onClick","onMouseenter"],ft=["title"],mt={class:"break-all"},vt={key:0,class:"flex h-[1.625rem] w-[1.625rem] flex-shrink-0 cursor-pointer items-center justify-center rounded-lg transition-all duration-300 hover:bg-menuColor-deepen"},ht={key:0,class:"w-full py-2.5"},_t=["onClick"],yt=["onClick"],gt=M({__name:"folderList",props:{folders:{},isExpanded:{type:Boolean}},emits:["rename","delete","rowClick"],setup(l,{emit:n}){const{t:a}=Q(),u=l,r=n,c=w=>{r("rowClick",w)},{selectedFolder:t}=H(se()),k=le(),x=De([]),o=w=>{w&&x.value.push(w)},{showPopover:i,handleHidePopover:E,handleMouseEnter:P,handleMouseLeave:_,handleShowed:L,isPopoverShowed:g}=ut(),A=b(-1),D=(w,s)=>{var v;i.value.includes(w.id)||(A.value===-1&&(A.value=s),g&&((v=x.value[A.value])==null||v.hide()),P(w),A.value=s)},{beforeEnter:U,enter:W,leave:q,afterEnter:V,afterLeave:J,beforeLeave:I}=fe(),p=async()=>{await ze();const w=document.querySelector(".bg-boxBgColor");w&&(w.closest(".overflow-y-auto")||w.parentElement)&&w.scrollIntoView({block:"center"})},G=b(!1);re(()=>{G.value=!0});const X=ue("isMobile"),z=b(!1),{isJumpFromHome:Z}=H(oe());return ae(()=>{!z.value&&u.folders.length>0&&!Z.value&&(p(),z.value=!0),u.folders.length>0&&(Z.value=!1,z.value=!1)}),(w,s)=>{const v=Ie;return f(),C("div",ct,[h(ie,{onEnter:e(W),onLeave:e(q),onBeforeLeave:e(I),onBeforeEnter:e(U),onAfterEnter:e(V),onAfterLeave:e(J)},{default:y(()=>[w.isExpanded?(f(),R(Me,{key:0,tag:"ul",appear:"","enter-active-class":"transition duration-100 ease-in","enter-from-class":"opacity-0","leave-active-class":"transition duration-100 ease-out","leave-to-class":"opacity-0"},{default:y(()=>[(f(!0),C(Ve,null,Be(w.folders,(m,O)=>{var B;return f(),C("li",{key:m.id,onClick:S=>c(m),onMouseenter:S=>D(m,O),onMouseleave:s[1]||(s[1]=S=>e(_)()),class:F(["mt-4 flex h-8 cursor-pointer items-center justify-between rounded-lg py-1.5 pe-0.5 ps-9 text-sm font-medium transition-all duration-300 hover:bg-boxBgColor",{selected:G.value&&((B=e(t))==null?void 0:B.id)===m.id&&e(k).path.includes("/folder")}])},[d("div",{title:m.folderName,class:"me-3 line-clamp-1 w-full text-ellipsis"},[d("span",mt,$(m.folderName),1)],8,ft),h(v,{trigger:"click",placement:"bottom-end",teleported:"",ref_for:!0,ref:o,transition:"el-zoom-in-top","show-arrow":!1,"popper-style":{padding:"0",borderRadius:"0.5rem",boxShadow:"0 0 0.625rem 0 rgba(0,0,0,0.14)",minWidth:"8.125rem",width:"auto",border:0},offset:4,onMouseenter:S=>e(P)(m),onShow:e(L),onHide:e(E)},{reference:y(()=>[d("div",{onClick:s[0]||(s[0]=Y((...S)=>e(L)&&e(L)(...S),["stop"])),class:"h-[1.625rem] w-[1.625rem]"},[e(i).includes(m.id)||e(X)?(f(),C("span",vt,s[2]||(s[2]=[d("span",{class:"iconfont icon-suolve"},null,-1)]))):T("",!0)])]),default:y(()=>[e(i).includes(m.id)?(f(),C("div",ht,[d("div",{onClick:Y(S=>{i.value=[],w.$emit("rename",m)},["stop"]),class:"mb-2 flex h-8 w-full cursor-pointer items-center px-[1.5em] transition-all duration-100 hover:bg-hoverColor-normal"},[s[3]||(s[3]=d("span",{class:"iconfont icon-a-bianjizhongmingming relative top-[-1px] me-2.5 text-sm text-fontColor"},null,-1)),d("span",null,$(e(a)("HomePage.rename")),1)],8,_t),d("div",{onClick:Y(S=>{i.value=[],w.$emit("delete",m)},["stop"]),class:"flex h-8 w-full cursor-pointer items-center px-[1.5em] transition-all duration-100 hover:bg-hoverColor-normal"},[s[4]||(s[4]=d("span",{class:"iconfont icon-lajixiang relative top-[-1px] me-2.5 text-sm text-fontColor"},null,-1)),d("span",null,$(e(a)("HomePage.delete")),1)],8,yt)])):T("",!0)]),_:2},1032,["onMouseenter","onShow","onHide"])],42,pt)}),128))]),_:1})):T("",!0)]),_:1},8,["onEnter","onLeave","onBeforeLeave","onBeforeEnter","onAfterEnter","onAfterLeave"])])}}}),wt=N(gt,[["__scopeId","data-v-a6fd65ef"]]),bt={class:"customer-dialog"},kt={key:0},Et=M({__name:"actionDialog",props:{modelValue:{type:Boolean},type:{},folder:{},loading:{type:Boolean}},emits:["update:modelValue","confirm"],setup(l,{emit:n}){const{t:a}=Q(),u=l,r=n,c=j({get:()=>u.modelValue,set:i=>r("update:modelValue",i)}),t=b("");ae(()=>{var i;t.value=((i=u.folder)==null?void 0:i.folderName)||""});const k=j(()=>({delete:a("HomePage.delete"),rename:a("HomePage.rename"),create:a("HomePage.createTitle")})[u.type]),x=()=>{t.value=""},o=()=>{r("confirm",t.value)};return(i,E)=>{const P=je,_=Ne,L=Oe;return f(),C("div",bt,[h(L,{modelValue:c.value,"onUpdate:modelValue":E[2]||(E[2]=g=>c.value=g),title:k.value,"append-to-body":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,onClosed:x},{footer:y(()=>[h(_,{onClick:E[1]||(E[1]=g=>c.value=!1)},{default:y(()=>[ee($(e(a)("HomePage.cancel")),1)]),_:1}),i.type==="delete"?(f(),R(_,{key:0,type:"danger",loading:i.loading,onClick:o},{default:y(()=>[ee($(e(a)("HomePage.delete")),1)]),_:1},8,["loading"])):i.type==="rename"?(f(),R(_,{key:1,loading:i.loading,disabled:!t.value,type:"primary",onClick:o},{default:y(()=>[ee($(e(a)("HomePage.rename")),1)]),_:1},8,["loading","disabled"])):(f(),R(_,{key:2,loading:i.loading,disabled:!t.value,type:"primary",onClick:o},{default:y(()=>[ee($(e(a)("HomePage.confirm")),1)]),_:1},8,["loading","disabled"]))]),default:y(()=>[i.type==="delete"?(f(),C("p",kt,$(e(a)("HomePage.deleteConfirm")),1)):(f(),R(P,{key:1,modelValue:t.value,"onUpdate:modelValue":E[0]||(E[0]=g=>t.value=g),placeholder:e(a)("HomePage.dialogLabel")},null,8,["modelValue","placeholder"]))]),_:1},8,["modelValue","title"])])}}}),xt=N(Et,[["__scopeId","data-v-3b14bf67"]]),Ct={class:""},Lt={ref:"folderBar",class:"flex h-8 w-full items-center justify-between rounded-3xl px-3 py-2.5 pe-0.5 transition-all duration-300"},Pt={class:"me-2.5 flex h-full w-3 cursor-pointer items-center"},$t={class:"text-sm"},St=M({__name:"index",setup(l){const{t:n}=Q(),a=b([]);le();const u=ce(),r=b(!1),c=b("delete"),t=b(null),k=s=>{c.value="delete",t.value=s,r.value=!0},x=s=>{t.value=s,c.value="rename",r.value=!0},o=()=>{c.value="create",t.value=null,r.value=!0},{setFolderList:i}=oe(),{folderList:E}=H(oe()),{updateFolder:P}=se(),{selectedFolder:_}=H(se()),L=async(s=!1)=>{if(!s&&E.value.length>0){a.value=E.value;return}try{const{useFolderApi:v}=await te(async()=>{const{useFolderApi:m}=await import("./O9dB02R4.js");return{useFolderApi:m}},__vite__mapDeps([0,1,2,3]),import.meta.url);a.value=await v.getFolderList(),i(a.value)}catch{}};L();const g=b(!1),A=s=>{c.value==="delete"?D():c.value==="rename"?W(s):c.value==="create"&&U(s)},D=async()=>{try{g.value=!0;const{useFolderApi:s}=await te(async()=>{const{useFolderApi:v}=await import("./O9dB02R4.js");return{useFolderApi:v}},__vite__mapDeps([0,1,2,3]),import.meta.url);await s.deleteFolder({folderId:t.value.id}),await L(!0),Ke.success(n("FolderPage.delSuccess")),_.value.id===t.value.id&&(u.push(p("/home")),P({})),r.value=!1}catch{}finally{g.value=!1}},U=async s=>{try{g.value=!0;const{useFolderApi:v}=await te(async()=>{const{useFolderApi:m}=await import("./O9dB02R4.js");return{useFolderApi:m}},__vite__mapDeps([0,1,2,3]),import.meta.url);await v.createFolder({folderName:s}),await L(!0),r.value=!1}catch{}finally{g.value=!1}},W=async s=>{try{g.value=!0;const{useFolderApi:v}=await te(async()=>{const{useFolderApi:m}=await import("./O9dB02R4.js");return{useFolderApi:m}},__vite__mapDeps([0,1,2,3]),import.meta.url);await v.editFolder({folderId:t.value.id,folderName:s}),_.value={...t.value,folderName:s},await L(!0),r.value=!1}catch{}finally{g.value=!1}};Ue((s,v,m)=>{var O,B;!s.path.includes("/folder")&&!((O=s.path)!=null&&O.includes("/home"))&&!((B=s.path)!=null&&B.includes("/accountSettings"))&&(E.value=[]),m()});const{isJumpFromHome:q}=H(oe()),V=s=>{u.push(p("/folder")),P(s),q.value=!0},J=We("folderBar"),I=qe(J),p=pe(),G=b(!1);re(()=>{G.value=!0});const{isExpanded:X,toggleExpanded:z}=fe(),{step:Z}=H(ne()),w=ue("isMobile");return(s,v)=>{const m=de,O=wt,B=xt;return f(),C("div",Ct,[d("div",Lt,[d("div",{onClick:v[0]||(v[0]=Y((...S)=>e(z)&&e(z)(...S),["stop"])),class:"flex w-full cursor-pointer items-center"},[d("div",Pt,[e(X)?(f(),R(m,{key:0},{default:y(()=>[h(e(Je))]),_:1})):(f(),R(m,{key:1},{default:y(()=>[h(e(Ge))]),_:1}))]),d("span",$t,$(e(n)("HomePage.folders")),1)]),e(w)?(f(),C("span",{key:1,id:"step2",onClick:o,class:"flex h-7 flex-shrink-0 cursor-pointer items-center justify-center text-mainColor-900"}," + "+$(e(n)("FolderPage.create")),1)):(f(),C("span",{key:0,id:"step2",class:F([{"opacity-100":e(I)||e(Z)===2},"flex h-7 w-7 flex-shrink-0 cursor-pointer items-center justify-center rounded-lg opacity-0 hover:bg-black hover:bg-opacity-[0.08]"]),onClick:o}," + ",2))],512),h(O,{folders:a.value,isExpanded:e(X),onRename:x,onDelete:k,onRowClick:V},null,8,["folders","isExpanded"]),h(B,{modelValue:r.value,"onUpdate:modelValue":v[1]||(v[1]=S=>r.value=S),type:c.value,loading:g.value,folder:t.value,onConfirm:A},null,8,["modelValue","type","loading","folder"])])}}}),Ft=N(St,[["__scopeId","data-v-fe275f6d"]]),At={class:"h-full flex-shrink-0 overflow-y-auto overflow-x-hidden border-r border-r-borderColor bg-mainColor-900 bg-opacity-[0.02] p-3 md:w-52 md:p-4 lg:w-60 lg:p-5"},Tt={class:"text-sm"},Rt=M({__name:"content",setup(l){const n=le(),a=ce(),{t:u}=Q(),r=pe(),c=()=>{a.push(r("/home"))};return(t,k)=>{var o,i;const x=Ft;return f(),C("div",At,[d("div",{class:F(["mb-2.5 flex h-8 w-full cursor-pointer items-center rounded-lg px-3 py-2.5 font-normal transition-all duration-300 hover:bg-menuColor-light",{selected:(i=(o=e(n))==null?void 0:o.path)==null?void 0:i.includes("home")}]),onClick:c},[k[0]||(k[0]=d("div",{class:"me-2.5 flex h-5 w-3 cursor-pointer items-center"},[d("span",{class:"iconfont icon-home text-xs"})],-1)),d("span",Tt,$(e(u)("HomePage.home")),1)],2),h(x)])}}}),Ht=N(Rt,[["__scopeId","data-v-ac5952eb"]]),Dt=Ye("/assets/images/home/menu.svg"),Mt={class:"p-4 pb-0 md:hidden"},Vt={class:"relative top-[1px] z-[1] ms-1 line-clamp-1 text-ellipsis text-sm"},Bt=M({__name:"index",setup(l){const{t:n,locale:a}=Q(),u=b(!1),{selectedFolder:r}=H(se()),c=le(),t=j(()=>{var P;return(P=c==null?void 0:c.name)!=null&&P.includes("home")?{name:n("HomePage.home"),icon:"icon-home"}:c.path.includes("/folder")?{name:r.value.folderName||n("FolderPage.unclassified"),icon:"icon-yidongduanwenjianjia"}:{name:"",icon:""}}),k=b("ltr");ae(()=>{k.value=["he-IL","ar-SA"].includes(a.value)?"rtl":"ltr"});const{step:x}=H(ne()),{nextStepWithOperation:o}=ne();ae(()=>{x.value===1.5?u.value=!0:x.value===2.5&&(u.value=!1)});const i=()=>{o()},E=()=>{o()};return(P,_)=>{const L=Qe,g=Ht,A=it;return f(),C("div",null,[d("div",Mt,[d("div",{onClick:_[0]||(_[0]=D=>u.value=!0),class:"flex w-max max-w-full cursor-pointer items-center overflow-hidden"},[_[2]||(_[2]=d("img",{class:"relative top-[-1px] z-[1] me-2 h-5 w-5",src:Dt,alt:""},null,-1)),h(L,null,{default:y(()=>[d("span",{class:F(["iconfont text-sm",e(t).icon])},null,2),d("span",Vt,$(e(t).name),1)]),_:1})])]),h(L,null,{default:y(()=>[h(A,{modelValue:e(u),"onUpdate:modelValue":_[1]||(_[1]=D=>Xe(u)?u.value=D:null),direction:e(k),onOpened:i,onClosed:E,"show-close":!1},{default:y(()=>[h(g)]),_:1},8,["modelValue","direction"])]),_:1}),h(g,{class:"hidden md:block"})])}}}),It=N(Bt,[["__scopeId","data-v-a6a2136d"]]),zt={class:"box-border flex h-screen w-full flex-col overflow-y-auto sm:overflow-y-hidden"},Ot={class:"sticky top-0 z-10 flex flex-col-reverse sm:flex-col"},jt={class:"flex flex-1 flex-col overflow-y-hidden md:w-full md:flex-row"},Nt={class:"media-heght flex flex-1 flex-col md:w-[0]"},Ut=M({__name:"topLeftLayout",setup(l){const n=b(!1),a=()=>/Android|webOS|iPhone|iPod|iPad|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),u=()=>window.innerWidth<768,r=()=>{n.value=a()&&u()},{isFreeUser:c}=H(Ze());return re(()=>{r(),window.addEventListener("resize",r)}),et(()=>{window.removeEventListener("resize",r)}),ot("isMobile",n),(t,k)=>{const x=me,o=ve,i=It;return f(),R(tt,null,[d("div",zt,[d("div",Ot,[e(c)?(f(),R(x,{key:0})):T("",!0),h(o)]),d("div",jt,[h(i),d("main",Nt,[K(t.$slots,"default",{},void 0,!0)])])])],1024)}}}),Wt=N(Ut,[["__scopeId","data-v-4f685952"]]),Kt=Object.freeze(Object.defineProperty({__proto__:null,default:Wt},Symbol.toStringTag,{value:"Module"}));export{Wt as T,dt as a,Kt as t,ne as u};
